{
  "face_recognition": {
    "engine": "face_recognition",
    "version": "1.3.0",
    "models": {
      "detection": {
        "default": "cnn",
        "options": ["hog", "cnn"],
        "hog": {
          "description": "Faster but less accurate",
          "speed": "fast",
          "accuracy": "medium",
          "use_cases": ["real-time", "low-resource"]
        },
        "cnn": {
          "description": "Slower but more accurate",
          "speed": "slow", 
          "accuracy": "high",
          "use_cases": ["enrollment", "high-accuracy"]
        }
      },
      "encoding": {
        "method": "face_encodings",
        "num_jitters": 2,
        "model": "large"
      }
    },
    "thresholds": {
      "default": 0.7,
      "enrollment": 0.75,
      "motion_detection": {
        "phase_0_10": 0.75,
        "phase_10_30": 0.7,
        "phase_30_60": 0.65,
        "phase_60_plus": 0.6
      },
      "quality_gate": 0.5
    },
    "enrollment": {
      "requirements": {
        "min_images": 1,
        "max_images": 5,
        "recommended_images": 3,
        "min_face_size": 100,
        "max_file_size_mb": 5
      },
      "image_preprocessing": {
        "resize_max_width": 1024,
        "resize_max_height": 768,
        "format_conversion": "RGB",
        "quality_enhancement": true
      },
      "validation": {
        "face_detection_required": true,
        "multiple_faces_allowed": false,
        "quality_check": true,
        "brightness_check": true,
        "blur_detection": true
      },
      "processing": {
        "model": "cnn",
        "num_jitters": 3,
        "face_quality_scoring": true,
        "weighted_averaging": true
      }
    },
    "recognition": {
      "similarity_calculation": {
        "method": "enhanced",
        "euclidean_weight": 0.4,
        "cosine_weight": 0.6
      },
      "performance": {
        "cache_embeddings": true,
        "cache_size": 1000,
        "cache_ttl_hours": 24,
        "batch_processing": true,
        "parallel_processing": true
      },
      "quality_assessment": {
        "enabled": true,
        "factors": {
          "brightness": 0.2,
          "contrast": 0.3,
          "sharpness": 0.3,
          "face_size": 0.2
        },
        "min_quality_score": 0.4
      }
    },
    "motion_detection": {
      "adaptive_thresholds": {
        "enabled": true,
        "base_threshold": 0.1,
        "motion_boost": true,
        "dynamic_adjustment": true
      },
      "processing_phases": {
        "0-10": {
          "model": "cnn",
          "threshold": 0.75,
          "num_jitters": 2,
          "quality_check": true,
          "priority": 1
        },
        "10-30": {
          "model": "cnn", 
          "threshold": 0.7,
          "num_jitters": 2,
          "quality_check": true,
          "priority": 2
        },
        "30-60": {
          "model": "hog",
          "threshold": 0.65,
          "num_jitters": 1,
          "quality_check": false,
          "priority": 3
        },
        "60-plus": {
          "model": "hog",
          "threshold": 0.6,
          "num_jitters": 1,
          "quality_check": false,
          "priority": 4
        }
      },
      "motion_strength_impact": {
        "weak_motion": {
          "threshold_multiplier": 1.05,
          "priority_penalty": 1
        },
        "moderate_motion": {
          "threshold_multiplier": 1.0,
          "priority_penalty": 0
        },
        "strong_motion": {
          "threshold_multiplier": 0.95,
          "priority_bonus": -1
        }
      }
    },
    "security": {
      "data_protection": {
        "encryption_at_rest": true,
        "encryption_in_transit": true,
        "anonymization_option": true
      },
      "privacy": {
        "data_retention_days": 365,
        "auto_deletion": true,
        "gdpr_compliance": true,
        "consent_required": true
      },
      "access_control": {
        "role_based": true,
        "student_self_access": true,
        "teacher_class_access": true,
        "admin_full_access": true
      }
    },
    "performance_tuning": {
      "optimization": {
        "gpu_acceleration": false,
        "multi_threading": true,
        "memory_optimization": true,
        "batch_size": 10
      },
      "monitoring": {
        "processing_time_tracking": true,
        "accuracy_monitoring": true,
        "error_rate_tracking": true,
        "performance_alerts": true
      },
      "limits": {
        "max_concurrent_recognitions": 50,
        "max_processing_time_seconds": 30,
        "max_queue_size": 1000,
        "rate_limit_per_minute": 100
      }
    },
    "debugging": {
      "enabled": true,
      "log_face_locations": true,
      "log_similarity_scores": true,
      "log_processing_times": true,
      "save_debug_images": false,
      "debug_image_path": "./debug_images"
    },
    "error_handling": {
      "retry_on_failure": true,
      "max_retries": 3,
      "fallback_model": "hog",
      "graceful_degradation": true,
      "error_reporting": true
    }
  },
  "supported_formats": {
    "image_formats": [
      "jpg", "jpeg", "png", "bmp", "tiff"
    ],
    "recommended_format": "jpg",
    "max_resolution": "1920x1080",
    "min_resolution": "320x240"
  },
  "hardware_requirements": {
    "minimum": {
      "cpu": "2+ cores",
      "ram": "4GB",
      "storage": "2GB free"
    },
    "recommended": {
      "cpu": "4+ cores",
      "ram": "8GB+", 
      "gpu": "Optional (CUDA support)",
      "storage": "5GB+ free"
    },
    "optimal": {
      "cpu": "8+ cores",
      "ram": "16GB+",
      "gpu": "NVIDIA GTX 1060+ or equivalent",
      "storage": "10GB+ SSD"
    }
  },
  "troubleshooting": {
    "common_issues": [
      {
        "issue": "No face detected",
        "causes": [
          "Poor lighting",
          "Face too small in image",
          "Face partially occluded",
          "Low image quality"
        ],
        "solutions": [
          "Improve lighting conditions",
          "Move closer to camera",
          "Remove obstructions",
          "Use higher resolution camera"
        ]
      },
      {
        "issue": "Low recognition accuracy",
        "causes": [
          "Poor enrollment images",
          "Threshold too high",
          "Lighting changes",
          "Pose variations"
        ],
        "solutions": [
          "Re-enroll with better images",
          "Lower recognition threshold",
          "Enroll in different lighting",
          "Include varied poses in enrollment"
        ]
      },
      {
        "issue": "Slow processing",
        "causes": [
          "CNN model on weak hardware",
          "Large image sizes",
          "Too many concurrent requests",
          "Insufficient memory"
        ],
        "solutions": [
          "Switch to HOG model",
          "Resize images before processing",
          "Implement queue management",
          "Increase system memory"
        ]
      },
      {
        "issue": "High memory usage",
        "causes": [
          "Large face cache",
          "Memory leaks",
          "Large batch sizes",
          "Multiple model instances"
        ],
        "solutions": [
          "Reduce cache size",
          "Restart service periodically",
          "Reduce batch size",
          "Use single model instance"
        ]
      }
    ]
  },
  "api_endpoints": {
    "enrollment": {
      "endpoint": "/api/face/enroll",
      "method": "POST",
      "description": "Enroll face for recognition",
      "parameters": {
        "images": "List of image files",
        "student_id": "Student identifier",
        "student_email": "Student email"
      },
      "response": {
        "success": "boolean",
        "message": "string",
        "student_id": "string",
        "images_processed": "integer",
        "quality_score": "float"
      }
    },
    "recognition": {
      "endpoint": "/api/face/recognize", 
      "method": "POST",
      "description": "Recognize faces in image",
      "parameters": {
        "image": "Image file",
        "session_id": "Session identifier",
        "enrolled_students": "List of student IDs"
      },
      "response": {
        "detected_faces": "array",
        "processing_time": "float",
        "model_used": "string"
      }
    }
  }
}